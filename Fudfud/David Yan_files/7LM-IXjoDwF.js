/*!CK:845099601!*//*1444185579,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["0GeP4"]); }

__d("ProfileIntroCardLoggerEvent",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ABOUT_NUX_DISMISS:"about_nux_dismiss",ABOUT_NUX_IMPRESSION:"about_nux_impression",BIO_ADD_CLICK:"bio_add_click",BIO_EDIT_CLICK:"bio_edit_click",BIO_IMPRESSION:"bio_impression",CONTEXT_ITEM_ADD_CLICK:"context_item_add_click",CONTEXT_ITEM_EDIT_CLICK:"context_item_edit_click",CONTEXT_ITEM_IMPRESSION:"context_item_impression",CONTEXT_ITEM_VIEW_CLICK:"context_item_view_click",FAVORITES_ADD_CLICK:"favorites_add_click",FAVORITES_EDIT_CLICK:"favorites_edit_click",FAVORITES_IMPRESSION:"favorites_impression",FEATURED_PHOTOS_ADD_CLICK:"fav_photos_add_click",FEATURED_PHOTOS_EDIT_CLICK:"fav_photos_edit_click",FEATURED_PHOTOS_IMPRESSION:"fav_photos_impression",INTRO_CARD_EXPANSION:"intro_card_expansion",INTRO_CARD_IMPRESSION:"intro_card_impression",NUX_DISMISS:"nux_dismiss",NUX_IMPRESSION:"nux_impression",BIO_CREATE_MUTATION:"bio_create_mutation",BIO_UPDATE_MUTATION:"bio_update_mutation",BIO_DELETE_MUTATION:"bio_delete_mutation",PHOTO_CREATE_MUTATION:"photo_create_mutation",PHOTO_DELETE_MUTATION:"photo_delete_mutation"};},null,{});
__d("ProfileIntroCardLoggerKey",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={EVENT:"event",PROFILE_ID:"profile_id"};},null,{});
__d("ProfileIntroCardParams",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BIO:"bio",FAVORITE:"favorite",PHOTO_ID:"photo_id"};},null,{});
__d("ProfileIntroCardStrings",["fbt"],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={PLACEHOLDER:h._("Enter text here"),EDIT:h._("Edit"),EDIT_BIO:h._("Edit Bio"),CANCEL:h._("Cancel"),SAVE:h._("Save"),getRemainingCharacters:function(j){return h._("{remainingCharacters} characters left",[h.param("remainingCharacters",j)]);}};f.exports=i;},null);
__d('ProfileIntroCardLogger',['BanzaiLogger','CSS','DataStore','Event','Parent','ProfileIntroCardLoggerKey','cx','tidyEvent'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=null,q=null;function r(u,v,w,x){p=v;q=x;o(k.listen(u,'click',function(y){var z=y.getTarget(),aa=l.byAttribute(z,w);if(aa){if(i.hasClass(aa,"_md0")&&z.nodeName!=='A')return;t(JSON.parse(j.get(aa,'store')));}}));}function s(u){t(u);}function t(u){u[m.PROFILE_ID]=q;h.log(p,u);}f.exports={init:r,logClick:s};},null);
__d("XProfileIntroCardSaveBioAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/profile\/intro\/bio\/save\/",{});},null,{});
__d('ProfileIntroCardBioEditForm.react',['Keys','ProfileIntroCardParams','ProfileIntroCardStrings','React','XProfileIntroCardSaveBioAsyncController','XUIGrayText.react','LeftRight.react','XUIButton.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q,r,s=4;q=babelHelpers.inherits(t,k.Component);r=q&&q.prototype;function t(u){'use strict';r.constructor.call(this,u);this.state={text:this.props.initialText||''};this.$ProfileIntroCardBioEditForm1=this.$ProfileIntroCardBioEditForm1.bind(this);this.$ProfileIntroCardBioEditForm2=this.$ProfileIntroCardBioEditForm2.bind(this);this.$ProfileIntroCardBioEditForm3=this.$ProfileIntroCardBioEditForm3.bind(this);}t.prototype.render=function(){'use strict';var u=l.getURIBuilder().getURI();return (k.createElement('form',{action:u,className:"_4xd8 _3-97 _3-8y",method:'post',onChange:this.$ProfileIntroCardBioEditForm2,onKeyDown:this.$ProfileIntroCardBioEditForm1,onPaste:this.$ProfileIntroCardBioEditForm3,rel:'async'},k.createElement('textarea',{autoFocus:true,className:"_4xd9",name:i.BIO,onChange:this.$ProfileIntroCardBioEditForm2,placeholder:this.props.placeholder,ref:'textArea',rows:s,value:this.state.text}),k.createElement(n,{className:"_4xda _2phz"},k.createElement(m,{className:"_4qpq _3-99 _3-8w",display:'block'},j.getRemainingCharacters(this.props.maxLength-this.state.text.length)),k.createElement('div',null,k.createElement(o,{label:j.CANCEL,onClick:this.props.onCancel,type:'button'}),k.createElement(o,{disabled:this.$ProfileIntroCardBioEditForm4(),label:j.SAVE,use:'confirm'})))));};t.prototype.$ProfileIntroCardBioEditForm1=function(u){'use strict';if(u.which===h.RETURN)u.preventDefault();};t.prototype.$ProfileIntroCardBioEditForm2=function(){'use strict';var u=this.refs.textArea.value;if(this.$ProfileIntroCardBioEditForm5){u=u.replace(/\n+/g,' ');this.$ProfileIntroCardBioEditForm5=false;}this.setState({text:u});};t.prototype.$ProfileIntroCardBioEditForm3=function(){'use strict';this.$ProfileIntroCardBioEditForm5=true;};t.prototype.$ProfileIntroCardBioEditForm4=function(){'use strict';return this.state.text.length>this.props.maxLength;};f.exports=t;},null);
__d('ProfileIntroCardBio.react',['ProfileIntroCardLogger','ProfileIntroCardLoggerEvent','ProfileIntroCardLoggerKey','React','Image.react','Link.react','ProfileIntroCardBioEditForm.react','ProfileIntroCardStrings','TextWithEmoticons.react','TooltipLink.react','XUIGrayText.react','cx','xuiglyph'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u,v;u=babelHelpers.inherits(w,k.Component);v=u&&u.prototype;function w(x){'use strict';v.constructor.call(this,x);this.state={isEditMode:false};}w.prototype.render=function(){'use strict';if(this.state.isEditMode)return (k.createElement('div',null,k.createElement(r,{className:"_3hrq _2pif",display:'block'},k.createElement(l,{className:"_2e6o _3-8_",src:t({name:'notifications',shade:'dark',size:'small'})}),this.props.privacyMessage),k.createElement(n,{initialText:this.props.bio,maxLength:this.props.maxLength,onCancel:(function(){return this.setState({isEditMode:false});}).bind(this),placeholder:this.props.placeholder})));if(!this.props.bio)return (k.createElement(m,{className:"_zho _2pi4",onClick:this.$ProfileIntroCardBio1.bind(this,i.BIO_ADD_CLICK)},k.createElement(l,{alt:o.EDIT_BIO,className:"_zhp _3-91",src:t({name:'plus',shade:'accent',size:'small'})}),k.createElement('span',null,this.props.addBioPrompt)));return (k.createElement('div',{className:"_4ihn _2pi9 _2pi5"},k.createElement(p,{renderEmoji:true,renderEmoticons:true,text:this.props.bio}),k.createElement(q,{className:"_1-gu _2p2g",onClick:this.$ProfileIntroCardBio1.bind(this,i.BIO_EDIT_CLICK),tooltip:o.EDIT},k.createElement('i',{className:"_2p2h"}))));};w.prototype.$ProfileIntroCardBio1=function(x){'use strict';var y={};y[j.EVENT]=x;h.logClick(y);this.setState({isEditMode:true});};f.exports=w;},null);
__d('ProfileIntroCardNUX',['DOM','Event','tidyEvent'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(l,m){'use strict';j(i.listen(m,'click',function(){return h.remove(l);}));}f.exports=k;},null);