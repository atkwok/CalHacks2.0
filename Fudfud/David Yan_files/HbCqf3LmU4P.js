/*!CK:412959313!*//*1444125865,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["2osbM"]); }

__d("AtWorkInviteCoworkerSource",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={RHC_MODULE:"rhc_module",NEWSFEED_NUX:"newsfeed_nux",IOS_APP:"ios_app",ANDROID_APP:"android_app",BULK_UPLOAD:"bulk_upload",GROUP_INVITE_DIALOG:"group_invite_dialog",GROUP_INVITE_TYPEAHEAD:"group_invite_typeahead",SEARCH_RESULT:"search_result",SEARCH_RHC:"search_rhc",SEARCH_TYPEAHEAD:"search_typeahead"};},null,{});
__d("XAtWorkInviteCoworkerController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/work\/invitecoworker\/",{email:{type:"String",required:true},source:{type:"Enum",required:true,enumType:1}});},null,{});
__d('AtWorkInviteCoworkerMixin',['AtWorkInviteCoworkerSource','AsyncRequest','Image.react','immutable','React','XAtWorkInviteCoworkerController','XUIText.react','getObjectValues','ix','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=l.PropTypes;'use strict';f.exports={inviteCoworkerPropTypes:{source:s.oneOf(o(h)).isRequired},_addInviteCoworkerInitialState:function(t){return Object.assign(t,{emailsAdded:new k.List(),emailFieldValue:'',inputError:null,showSubmitButton:false,pendingRequest:false});},_onEmailFieldFocus:function(){this.setState({showSubmitButton:true});},_onEmailFieldChange:function(event){this.setState({emailFieldValue:event.target.value,inputError:null});},_onServerResponse:function(t){if(t.payload.success){this.setState({pendingRequest:false,emailsAdded:this.state.emailsAdded.push(this.state.emailFieldValue),emailFieldValue:'',inputError:null});this.refs.emailField.focusInput();}else this.setState({pendingRequest:false,inputError:t.payload.error});},_submitInvite:function(){if(!this.state.emailFieldValue)return;this.setState({pendingRequest:true});var t=m.getURIBuilder().setString('email',this.state.emailFieldValue).setEnum('source',this.props.source).getURI();new i().setURI(t).setHandler(this._onServerResponse).send();},_renderEmailsAdded:function(){if(this.state.emailsAdded.size>0){return this.state.emailsAdded.map(function(t,u){return (l.createElement('div',{className:"_3-8x",key:u},l.createElement(j,{src:p('/images/careers/check.png'),alt:'confirmation tick',className:"_3-8_"}),r._("Invited {email}",[r.param('email',l.createElement(n,{weight:'bold'},t))])));});}else return null;}};},null);
__d('WorkNewsfeedNuxInviteCoworkers.react',['AsyncRequest','AtWorkInviteCoworkerMixin','Image.react','ImageBlock.react','InlineBlock.react','React','Layout.react','XUIButton.react','XUIText.react','XUITextInput.react','XWorkNewsfeedNuxNextStepController','cx','ix','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){'use strict';if(c.__markCompiled)c.__markCompiled();var v=n.Column,w=n.FillColumn,x=m.PropTypes,y=m.createClass({displayName:'WorkNewsfeedNuxInviteCoworkers',mixins:[i],propTypes:Object.assign({subtitle:x.string.isRequired,placeholder:x.string.isRequired},i.inviteCoworkerPropTypes),getInitialState:function(){return this._addInviteCoworkerInitialState({});},_renderSubmitButton:function(){if(this.state.showSubmitButton){var z=u._("Invite"),aa="_3-9a _1v8x";return (m.createElement(o,{label:z,use:'confirm',disabled:this.state.pendingRequest,size:'large',onClick:this._submitInvite,className:aa}));}else return null;},render:function(){var z=this._renderSubmitButton(),aa=this._renderEmailsAdded(),ba;if(aa===null){ba=m.createElement('div',{className:"_ugp"},m.createElement(p,{size:'small'},this.props.subtitle));}else ba=aa;return (m.createElement('div',{className:"clearfix"},m.createElement('div',{className:"_ugm"},m.createElement(k,null,m.createElement(j,{src:t('/images/atwork/newsfeed_nux_invite_coworkers.png'),alt:'invite co-workers image',className:"_ugn"}),m.createElement(l,{alignv:'middle',height:150,fullWidth:true},m.createElement('div',{className:"_ugo"},m.createElement(p,{size:'medium'},u._("Make sure your co-workers see your updates! Enter their emails below to invite them to use Facebook at Work."))),m.createElement('div',null,m.createElement(n,{className:"_1v91"+(this.state.showSubmitButton?' '+"_1v92":'')},m.createElement(w,null,m.createElement(q,{className:"_1v95",height:'tall',value:this.state.emailFieldValue,onChange:this._onEmailFieldChange,onFocus:this._onEmailFieldFocus,onEnter:this._submitInvite,disabled:this.state.pendingRequest,placeholder:this.props.placeholder,xuiError:this.state.inputError,ref:'emailField'})),m.createElement(v,null,z))),ba))),m.createElement('div',{className:"rfloat"},m.createElement(o,{label:u._("Done"),use:'default',onClick:this._onDoneClick,disabled:this.state.pendingRequest}))));},_onDoneClick:function(z){var aa=this.state.emailsAdded.size===0,ba=r.getURIBuilder().getURI();new h().setURI(ba).setData({current_step_id:this.props.stepID,skipped:aa}).send();this.setState({pendingRequest:true});}});f.exports=y;},null);